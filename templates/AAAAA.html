<!DOCTYPE html>
<html lang="ar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ØµÙØ­Ø© Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</title>
    <style>
      body {
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: flex-start;
        background: #1e1e2e;
        color: #fff;
        font-family: "Cairo", sans-serif;
        margin: 0;
        padding: 0;
        border: 2px solid #ff2770;
        box-shadow: inset 0 0 30px #ff2770;
        overflow: hidden;
      }

      .container {
        margin-top: 50px;
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
      }

      .popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.9);
        background: #1e1e2e;
        color: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        transition: transform 0.3s ease, opacity 0.3s ease;
      }

      .popup.active {
        display: block;
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }

      .overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        transition: opacity 0.3s ease;
      }

      .overlay.active {
        display: block;
        opacity: 1;
      }

      button {
        padding: 15px 30px;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        background-color: #fff;
        color: #333;
        cursor: pointer;
        margin: 10px;
        transition: background-color 0.3s ease, transform 0.3s ease;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      }

      button:hover {
        background-color: #ff2770;
        color: white;
        transform: scale(1.1);
      }

      button:active {
        transform: scale(1);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }

      .btn {
        padding: 15px 30px;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        background-color: #fff;
        color: #333;
        cursor: pointer;
        margin: 10px;
        transition: background-color 0.3s ease, transform 0.3s ease;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      }

      .btn:hover {
        background-color: #2575fc;
        color: white;
        transform: scale(1.1);
      }

      .btn:active {
        transform: scale(1);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }

      .dark-mode {
        background-color: #333;
        color: white;
      }

      .dark-mode button {
        background-color: #444;
        color: #fff;
      }

      .dark-mode button:hover {
        background-color: #2575fc;
      }

      @media (max-width: 768px) {
        .container {
          flex-direction: column;
        }
      }
    </style>
  </head>

  <body>
    <button onclick="showYearPopup()">Ø§Ø®ØªØ± Ø§Ù„Ø³Ù†Ø©</button>
    <button onclick="showYearPopup()">Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹</button>
    <button onclick="showYearPopup()">Ø§Ù„Ø®Ø±Ø§Ø¦Ø·</button>
    <button onclick="showYearPopup()">Ù†Ù…Ø§Ø°Ø¬ Ø¥Ù…ØªØ­Ø§Ù†Ø§Øª</button>

    <div class="container" id="semesters-container"></div>

    <div class="overlay" id="overlay" onclick="closePopup()"></div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø³Ù†Ø© -->
    <div class="popup" id="year-popup">
      <h3>Ø§Ø®ØªØ± Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</h3>
      <button onclick="selectYear(2023)">2023</button>
      <button onclick="selectYear(2024)">2024</button>
      <button onclick="selectYear(2025)">2025</button>
      <button onclick="closePopup()">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>

    <!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù†ÙˆØ§ÙØ° -->
    <div id="popups-container"></div>

    <script>
      let selectedYear = 2025;

      const lessonsData = {
        2023: {
          1: [
            {
              text: "Ù‚Ø±Ø§Ø¡Ø© Ùˆ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø·Ø¨ÙˆØºØ±Ø§ÙÙŠØ©",
              url: "bansalem.rj@usmba.ac.ma",
              subject: "Ø§Ù„ÙÙ„Ø³ÙØ©",
            },
            { text: "Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", url: "teacher1", subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§" },
            { text: "Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", url: "teacher1", subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§" },
            { text: "Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", url: "teacher1", subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§" },
            { text: "Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", url: "teacher1", subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§" },
            { text: "Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", url: "teacher1", subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§" },
            { text: "Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", url: "teacher1", subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§" },
          ],
          2: [
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø³ÙƒØ§Ù† Ùˆ Ø§Ù„Ø¯ÙŠÙ…ØºØ±Ø§ÙÙŠØ§",
              url: "bansalem.rj@usmba.ac.ma",
              subject: "Ø§Ù„Ù…Ù†Ø·Ù‚",
            },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø³ÙƒØ§Ù† Ùˆ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©",
              url: "teacher15",
              subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
            },
          ],
          3: [
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø³ÙƒØ§Ù† Ùˆ Ø§Ù„Ø¯ÙŠÙ…ØºØ±Ø§ÙÙŠØ§",
              url: "bansalem.rj@usmba.ac.ma",
              subject: "Ø§Ù„ØªØ§Ø±ÙŠØ®",
            },
            { text: "Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", url: "teacher1", subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§" },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø³ÙƒØ§Ù† Ùˆ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©",
              url: "teacher1",
              subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
            },
          ],
          5: [
            {
              text: "Ø¯Ø±Ø³ ÙÙŠ Ø§Ù„ÙÙ„Ø³ÙØ©",
              url: "bansalem.rj@usmba.ac.ma",
              subject: "Ø§Ù„ÙÙ„Ø³ÙØ©",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©",
            },
            {
              text: "Ø¯Ø±Ø³ ÙÙŠ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
              url: "teacherB",
              subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø©",
            },
          ],
          6: [
            {
              text: "ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ±Ø¨",
              url: "teacherC",
              subject: "Ø§Ù„ØªØ§Ø±ÙŠØ®",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©",
            },
            {
              text: "Ø§Ù„Ø¨ÙŠØ¦Ø© ÙˆØ§Ù„Ù…Ø¬ØªÙ…Ø¹",
              url: "teacherD",
              subject: "Ø§Ù„Ø¹Ù„ÙˆÙ…",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø©",
            },
          ],
        },
        2024: {
          1: [
            {
              text: "Ù‚Ø±Ø§Ø¡Ø© Ùˆ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø·Ø¨ÙˆØºØ±Ø§ÙÙŠØ©",
              url: "bansalem.rj@usmba.ac.ma",
              subject: "cartes topographiques",
            },
            {
              text: "Ù…Ø¯Ø®Ù„ Ø¥Ù„Ù‰ Ø¹Ù„Ù… Ø§Ù„Ø¥Ø¬ØªÙ…Ø§Ø¹",
              url: "bouzkraoui.dr@usmba.ac.ma",
              subject: "sociologie",
            },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø³ÙƒØ§Ù† ÙˆØ§Ù„Ø¯ÙŠÙ…ÙˆØºØ±Ø§ÙÙŠØ§",
              url: "magda.sb@usmba.ac.ma",
              subject: "gÃ©ographie populations",
            },
            {
              text: "Ø¬ÙŠÙˆÙ…ÙˆØ±ÙÙˆÙ„ÙˆØ¬ÙŠØ§ Ø¹Ø§Ù…Ø©",
              url: "souad.bn@usmba.ac.ma",
              subject: "gÃ©omorphologie",
            },
            {
              text: "Ù…Ø¯Ø®Ù„ Ù„Ø¯Ø±Ø§Ø³Ø© ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ±Ø¨ Ø§Ù„ÙˆØ³ÙŠØ·",
              url: "raja.bh@usmba.ac.ma",
              subject: "histoire moyen maroc",
            },
            {
              text: "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø°Ø§ØªÙŠØ©",
              url: "souad.bn@usmba.ac.ma",
              subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©",
              url: "muhammed.am@usmba.ac.ma",
              subject: "francais (S1)",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",
              url: "fatima-zahra.ms@usmba.ac.ma",
              subject: "english (S1)",
            },
          ],
          2: [
            {
              text: "Ø§Ù„Ù…Ù†Ø§Ø®",
              url: "muhammed.hn@usmba.ac.ma",
              subject: "climat",
            },
            {
              text: "Ø§Ù„Ø¥ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠØ© Ø§Ù„Ø­Ø¯ÙŠØ«Ø© ÙÙŠ Ø¹Ù„Ù… Ø§Ù„Ø¥Ø¬ØªÙ…Ø§Ø¹",
              url: "hassan.am@usmba.ac.ma",
              subject: "sociologie",
            },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ù…ØºØ±Ø¨ Ø§Ù„Ø¹Ø§Ù…Ø©",
              url: "bansalem.rj@usmba.ac.ma",
              subject: "gÃ©ographie maroc",
            },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø£Ø±ÙŠØ§Ù",
              url: "muhammad.zr@usmba.ac.ma",
              subject: "gÃ©ographie pays",
            },
            {
              text: "Ù…Ø¯Ø®Ù„ Ù„Ø¯Ø±Ø§Ø³Ø© ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ±Ø¨ Ø§Ù„Ù…Ø¹Ø§ØµØ± ÙˆØ§Ù„Ø±Ø§Ù‡Ù†",
              url: "tarek.mj@usmba.ac.ma",
              subject: "histoire contemporaine maroc",
            },
            {
              text: "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø°Ø§ØªÙŠØ©",
              url: "muhammed.fs@usmba.ac.ma",
              subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©",
              url: "muhammed.am@usmba.ac.ma",
              subject: "francais (S2)",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",
              url: "fatima-zahra.ms@usmba.ac.ma",
              subject: "english (S2)",
            },
          ],
          3: [
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø³ÙƒØ§Ù† Ùˆ Ø§Ù„Ø¯ÙŠÙ…ØºØ±Ø§ÙÙŠØ§",
              url: "bansalem.rj@usmba.ac.ma",
              subject: "Ø§Ù„ØªØ§Ø±ÙŠØ®",
            },
            { text: "Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", url: "teacher1", subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§" },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø³ÙƒØ§Ù† Ùˆ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©",
              url: "teacher1",
              subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
            },
          ],
          5: [
            {
              text: "Ø¯Ø±Ø³ ÙÙŠ Ø§Ù„ÙÙ„Ø³ÙØ©",
              url: "bansalem.rj@usmba.ac.ma",
              subject: "Ø§Ù„ÙÙ„Ø³ÙØ©",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©",
            },
            {
              text: "Ø¯Ø±Ø³ ÙÙŠ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
              url: "teacherB",
              subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø©",
            },
          ],
          6: [
            {
              text: "ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ±Ø¨",
              url: "teacherC",
              subject: "Ø§Ù„ØªØ§Ø±ÙŠØ®",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©",
            },
            {
              text: "Ø§Ù„Ø¨ÙŠØ¦Ø© ÙˆØ§Ù„Ù…Ø¬ØªÙ…Ø¹",
              url: "teacherD",
              subject: "Ø§Ù„Ø¹Ù„ÙˆÙ…",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø©",
            },
          ],
        },
        2025: {
          1: [
            {
              text: "Ù‚Ø±Ø§Ø¡Ø© Ùˆ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø·Ø¨ÙˆØºØ±Ø§ÙÙŠØ©",
              url: "bansalem_rj_usmba_ac_ma",
              subject: "topographiques",
            },
            {
              text: "Ù…Ø¯Ø®Ù„ Ø¥Ù„Ù‰ Ø¹Ù„Ù… Ø§Ù„Ø¥Ø¬ØªÙ…Ø§Ø¹",
              url: "wasila.bn@usmba.ac.ma",
              subject: "introduction sociologie",
            },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø³ÙƒØ§Ù† ÙˆØ§Ù„Ø¯ÙŠÙ…ÙˆØºØ±Ø§ÙÙŠØ§",
              url: "idris.zh@usmba.ac.ma",
              subject: "gÃ©ographie populations",
            },
            {
              text: "Ø¬ÙŠÙˆÙ…ÙˆØ±ÙÙˆÙ„ÙˆØ¬ÙŠØ§ Ø¹Ø§Ù…Ø©",
              url: "souad.bn@usmba.ac.ma",
              subject: "gÃ©omorphologie",
            },
            {
              text: "Ù…Ø¯Ø®Ù„ Ù„Ø¯Ø±Ø§Ø³Ø© ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ±Ø¨ Ø§Ù„ÙˆØ³ÙŠØ·",
              url: "tarek.mj@usmba.ac.ma",
              subject: "histoire moyen maroc",
            },
            {
              text: "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø°Ø§ØªÙŠØ©",
              url: "souad.bn@usmba.ac.ma",
              subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©",
              url: "muhammed.am@usmba.ac.ma",
              subject: "francais(S1)",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",
              url: "fatima-zahra.ms@usmba.ac.ma",
              subject: "english (S1)",
            },
          ],
          2: [
            {
              text: "Ø§Ù„Ù…Ù†Ø§Ø®",
              url: "muhammed.hn@usmba.ac.ma",
              subject: "climat",
            },
            {
              text: "Ø§Ù„Ø¥ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠØ© Ø§Ù„Ø­Ø¯ÙŠØ«Ø© ÙÙŠ Ø¹Ù„Ù… Ø§Ù„Ø¥Ø¬ØªÙ…Ø§Ø¹",
              url: "wasila.bn@usmba.ac.ma",
              subject: "tendances classiques sociologie",
            },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ù…ØºØ±Ø¨ Ø§Ù„Ø¹Ø§Ù…Ø©",
              url: "bansalem.rj@usmba.ac.ma",
              subject: "gÃ©ographie maroc",
            },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø£Ø±ÙŠØ§Ù",
              url: "muhammad.zr@usmba.ac.ma",
              subject: "gÃ©ographie pays",
            },
            {
              text: "Ù…Ø¯Ø®Ù„ Ù„Ø¯Ø±Ø§Ø³Ø© ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ±Ø¨ Ø§Ù„Ù…Ø¹Ø§ØµØ± ÙˆØ§Ù„Ø±Ø§Ù‡Ù†",
              url: "hisham.mr@usmba.ac.ma",
              subject: "histoire contemporaine maroc",
            },
            {
              text: "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø±Ù‚Ù…ÙŠØ©",
              url: "muhammed.fs@usmba.ac.ma",
              subject: "compÃ©tences numÃ©riques",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©",
              url: "ali.ch@usmba.ac.ma",
              subject: "francais(S2)",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",
              url: "zainab.fr@usmba.ac.ma",
              subject: "english (S2)",
            },
          ],
          3: [
            {
              text: "Ù…Ù†Ø§Ø® Ø¯ÙŠÙ†Ø§Ù…ÙŠ",
              url: "muhammed.hn@usmba.ac.ma",
              subject: "climat dynamique",
            },
            {
              text: "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ÙÙ†ÙŠØ© ÙˆØ§Ù„Ø«Ù‚Ø§ÙÙŠØ©",
              url: "ali.wh@usmba.ac.ma",
              subject: "compÃ©tences artistiques",
            },
            {
              text: "Ø¬ÙŠÙˆÙ…ÙˆØ±ÙÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ø¨Ù†ÙŠÙˆÙŠØ©",
              url: "souad.bn@usmba.ac.ma",
              subject: "gÃ©omorphologie structurale",
            },
            {
              text: "Ù‚Ø±Ø§Ø¡Ø© ÙˆØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø¬ÙŠÙˆÙ„ÙˆØ¬ÙŠØ© ÙˆØ§Ù„Ø¬ÙŠÙˆÙ…Ø±ÙÙˆÙÙˆØ¬ÙŠØ©",
              url: "souad.bn@usmba.ac.ma",
              subject: "cartes gÃ©ologiques",
            },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ù…Ø¯Ù†",
              url: "sabah.sr@usmba.ac.ma",
              subject: "gÃ©ographie ville",
            },
            {
              text: "Ø¯ÙŠÙ†Ø§Ù…ÙŠØ© Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„Ø±ÙŠÙÙŠ",
              url: "sabah.sr@usmba.ac.ma",
              subject: "gÃ©ographie pays",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©",
              url: "ali.ch@usmba.ac.ma",
              subject: "francais (S3)",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",
              url: "ali.al-baqali@usmba.ac.ma",
              subject: "english (S3)",
            },
          ],
          4: [
            {
              text: "Ø§Ù„Ø®Ø±Ø§Ø¦Ø· ÙˆØ§Ù„Ø³ÙŠÙ…ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§",
              url: "muhammed.hm@usmba.ac.ma",
              subject: "cartes sÃ©mologies",
            },
            {
              text: "Ø§Ù„Ù†Ø¸Ù… Ø§Ù„Ø¨ÙŠØ¦ÙŠØ© ÙˆØ§Ù„ØªØ±Ø¨Ø© ÙˆØ§Ù„Ù†Ø¨Ø§Øª",
              url: "abdulsalam.sa@usmba.ac.ma",
              subject: "Ã©cosystemes",
            },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ù…ØªÙˆØ³Ø· ÙˆØ¥ÙØ±ÙŠÙ‚ÙŠØ§ Ø¬Ù†ÙˆØ¨ Ø§Ù„ØµØ­Ø±Ø§Ø¡",
              url: "abdulsalam.sa@usmba.ac.ma",
              subject: "gÃ©ographie mÃ©diterranÃ©e",
            },
            {
              text: "Ø¬ØºØ±Ø§ÙÙŠØ© Ø§Ù„Ø·Ø§Ù‚Ø©",
              url: "muhammed.hn@usmba.ac.ma",
              subject: "gÃ©ographie Ã©nergÃ©tique",
            },
            {
              text: "Ø¯ÙŠÙ†Ø§Ù…ÙŠØ© Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„Ø­Ø¶Ø±ÙŠ",
              url: "bushra.sb@usmba.ac.ma",
              subject: "dynamique champ",
            },
            {
              text: "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù‡ÙŠØ§ØªÙŠØ© ÙˆØ§Ù„Ø°Ø§ØªÙŠØ©",
              url: "muhammed.by@usmba.ac.ma",
              subject: "compÃ©tences personnelles",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©",
              url: "ali.ch@usmba.ac.ma",
              subject: "francais (S4)",
            },
            {
              text: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",
              url: "nawar.af@usmba.ac.ma",
              subject: "english (S4)",
            },
          ],
          5: [
            {
              text: "Ø¯Ø±Ø³ ÙÙŠ Ø§Ù„ÙÙ„Ø³ÙØ©",
              url: "bansalem.rj@usmba.ac.ma",
              subject: "Ø§Ù„ÙÙ„Ø³ÙØ©",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©",
            },
            {
              text: "Ø¯Ø±Ø³ ÙÙŠ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
              url: "teacherB",
              subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø©",
            },
          ],
          6: [
            {
              text: "ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¬Ø¨Ù„",
              url: "muhammed.hn@usmba.ac.ma",
              subject: "monter montagne",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø©",
            },
            {
              text: "Ø§Ù„ØªØ±Ø¨Ø©",
              url: "najm.al@usmba.ac.ma",
              subject: "sol",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø©",
            },
            {
              text: "Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©",
              url: "muhammed.ht@usmba.ac.ma",
              subject: "risques environnementaux",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø©",
            },
            {
              text: "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙˆØ¬ÙŠØ§",
              url: "souad.bn@usmba.ac.ma",
              subject: "hydrologie",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø©",
            },

            {
              text: "Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø¶Ø±ÙŠØ©",
              url: "magda.sb@usmba.ac.ma",
              subject: "topographiques",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©",
            },
            {
              text: "Ø§Ù„Ø¬Ù‡Ø© ÙˆØ§Ù„Ø¬Ù‡ÙˆÙŠØ©",
              url: "muhammad.zr@usmba.ac.ma",
              subject: "rÃ©gional et rÃ©gional",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©",
            },
            {
              text: "Ø§Ù‚ØªØµØ§Ø¯ Ù…Ø­Ù„ÙŠ",
              url: "idris.zh@usmba.ac.ma",
              subject: "Ã©conomie locale",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©",
            },
            {
              text: "Ù…Ù‚Ø§Ø±Ø¨Ø© Ù…Ù‚ÙˆÙ„Ø§ØªÙŠØ©",
              url: "bushti.kh@usmba.ac.ma",
              subject: "approche citation",
              track: "Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©",
            },
          ],
        },
      };

      function showYearPopup() {
        document.getElementById("year-popup").classList.add("active");
        document.getElementById("overlay").classList.add("active");
      }

      function selectYear(year) {
        selectedYear = year;
        closePopup();
        updateSemesters();
      }

      function updateSemesters() {
        const semestersContainer = document.getElementById(
          "semesters-container"
        );
        const popupsContainer = document.getElementById("popups-container");
        semestersContainer.innerHTML = "";
        popupsContainer.innerHTML = "";

        for (let i = 1; i <= 6; i++) {
          const button = document.createElement("button");
          button.textContent = `Ø§Ù„ÙØµÙ„ ${i} - ${selectedYear}`;

          if (i === 5 || i === 6) {
            button.onclick = () => showSpecialPopup(i); // Ù†Ø§ÙØ°Ø© Ø®Ø§ØµØ© Ù„Ù„ÙØµÙ„ 5 Ùˆ 6
          } else {
            button.onclick = () => showPopup(i);
          }

          semestersContainer.appendChild(button);

          const popup = document.createElement("div");
          popup.classList.add("popup");
          popup.id = `popup${i}`;
          popup.innerHTML = ` 
            <h3>Ø§Ù„ÙØµÙ„ ${i} - ${selectedYear}</h3>
            <div id="popup-content-${i}"></div>
            <button onclick="closePopup()">Ø¥ØºÙ„Ø§Ù‚</button>
        `;
          popupsContainer.appendChild(popup);
        }
      }

      function showSpecialPopup(semester) {
        const popup = document.getElementById(`popup${semester}`);
        const popupContent = document.getElementById(
          `popup-content-${semester}`
        );
        popupContent.innerHTML = `
        <h4>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³Ø§Ø±</h4>
        <button onclick="showLessons('${semester}', 'Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©')">Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©</button>
        <button onclick="showLessons('${semester}', 'Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø©')">Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø©</button>
    `;

        popup.classList.add("active");
        document.getElementById("overlay").classList.add("active");
      }

      function showLessons(semester, track) {
        const popupContent = document.getElementById(
          `popup-content-${semester}`
        );
        popupContent.innerHTML = `<h4>Ø§Ù„Ø¯Ø±ÙˆØ³ Ù„Ù…Ø³Ø§Ø± ${track}</h4>`;

        if (lessonsData[selectedYear] && lessonsData[selectedYear][semester]) {
          const filteredLessons = lessonsData[selectedYear][semester].filter(
            (lesson) => lesson.track === track
          );

          if (filteredLessons.length > 0) {
            filteredLessons.forEach((lesson) => {
              const lessonButton = document.createElement("button");
              lessonButton.textContent = lesson.text;
              lessonButton.onclick = () =>
                fetchFiles(lesson.url, lesson.subject);
              popupContent.appendChild(lessonButton);
            });
          } else {
            popupContent.innerHTML += "<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³ Ù…ØªØ§Ø­Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ø§Ø±.</p>";
          }
        } else {
          popupContent.innerHTML += "<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³ Ù…ØªØ§Ø­Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„ÙØµÙ„.</p>";
        }
      }

      function showPopup(semester) {
        const popup = document.getElementById(`popup${semester}`);
        const popupContent = document.getElementById(
          `popup-content-${semester}`
        );
        popupContent.innerHTML = "<p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯...</p>";

        console.log(`Ø¹Ø±Ø¶ Ø§Ù„Ù†Ø§ÙØ°Ø© Ù„Ù„ÙØµÙ„: ${semester} ÙÙŠ Ø§Ù„Ø³Ù†Ø©: ${selectedYear}`);

        if (lessonsData[selectedYear] && lessonsData[selectedYear][semester]) {
          popupContent.innerHTML = ""; // Ù…Ø³Ø­ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³Ø§Ø¨Ù‚
          lessonsData[selectedYear][semester].forEach((lesson) => {
            console.log(`Ø¹Ø±Ø¶ Ù…Ø§Ø¯Ø©: ${lesson.subject} Ù„Ù„Ø£Ø³ØªØ§Ø°: ${lesson.url}`);

            const lessonButton = document.createElement("button");
            lessonButton.textContent = lesson.text;
            lessonButton.onclick = () => fetchFiles(lesson.url, lesson.subject);
            popupContent.appendChild(lessonButton);
          });
        } else {
          popupContent.innerHTML = "<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙˆØ§Ø¯ Ù…ØªØ§Ø­Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„ÙØµÙ„.</p>";
        }

        popup.classList.add("active");
        document.getElementById("overlay").classList.add("active");
      }

      function openFile(fileName, teacherEmail, subject) {
        const fileUrl = `/pdfViewer?file=${encodeURIComponent(
          fileName
        )}&teacher_email=${encodeURIComponent(teacherEmail)}`;
        console.log("ğŸ“‚ Ù…Ø­Ø§ÙˆÙ„Ø© ÙØªØ­ Ø§Ù„Ù…Ù„Ù:", fileUrl);
        window.location.href = fileUrl;
      }

      function loadLessonFile(teacherEmail, subject) {
        // ØªØ´ÙÙŠØ± Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª Ù„ØªØ¬Ù†Ø¨ Ø£ÙŠ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„ØªØ±Ù…ÙŠØ²
        const encodedSubject = encodeURIComponent(subject);
        const encodedTeacherEmail = encodeURIComponent(teacherEmail);

        // Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø³Ø§Ø± Ù„Ù„Ù…Ù„Ù Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù… ÙˆØ§Ù„Ù…Ø§Ø¯Ø©
        const fileName = `${encodedSubject}_${encodedTeacherEmail}_20250315123419_Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ù†Ø§Ø® Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠ.pdf`;
        const fileUrl = `/pdfViewer?file=${fileName}&teacher_email=${encodedTeacherEmail}&title=${encodedSubject}`;

        // ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ù
        window.location.href = fileUrl;
      }

      function closePopup() {
        document
          .querySelectorAll(".popup")
          .forEach((popup) => popup.classList.remove("active"));
        document.getElementById("overlay").classList.remove("active");
      }

      updateSemesters();
    </script>

    <script>
      function fetchFiles(teacherEmail, subject) {
        // Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ ØµÙØ­Ø© lessons.html Ù…Ø¹ ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø¨Ø± Ø§Ù„Ø±Ø§Ø¨Ø·
        window.location.href = `/lessonss?teacher_email=${encodeURIComponent(
          teacherEmail
        )}&subject=${encodeURIComponent(subject)}`;
      }

      function openFile(fileName, teacherEmail, subject) {
        const fileUrl = `/pdfViewer?file=${encodeURIComponent(
          fileName
        )}&teacher_email=${encodeURIComponent(
          teacherEmail
        )}&title=${encodeURIComponent(subject)}`;
        window.location.href = fileUrl;
      }
    </script>
  </body>
</html>
